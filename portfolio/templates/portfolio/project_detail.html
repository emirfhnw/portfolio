{% extends "portfolio/base.html" %}
{% load static %}
{% block title %}{{ project.title }} Â· Portfolio{% endblock %}

{% block content %}
<article class="section">
  <header class="section-head">
    <p class="eyebrow">{% if project.featured %}Featured Project{% else %}Project{% endif %}</p>
    <h1>{{ project.title }}</h1>
    <p class="muted">{{ project.short_description }}</p>
  </header>

  <div class="detail">
    <section class="card glass">
      <div class="detail-media">
        {% if project.cover_image %}
          <img src="{{ project.cover_image.url }}" alt="{{ project.title }}">
        {% else %}
          <img src="{% static 'img/placeholder.png' %}" alt="{{ project.title }}">
        {% endif %}
      </div>

      
      <h2 class="card-title card-space-top">Beschreibung</h2>
      <div class="prose">{{ project.description|linebreaksbr }}</div>
      
    </section>

    <aside class="card glass">
      <h2 class="card-title">Infos</h2>
      <dl class="meta">
        <div>
          <dt>Erstellt</dt>
          <dd>{{ project.created_at|date:"d.m.Y" }}</dd>
        </div>
      </dl>

      
      <div class="action-row">
        {% if project.repo_url %}<a class="btn" href="{{ project.repo_url }}">Repo</a>{% endif %}
        {% if project.live_url %}<a class="btn primary" href="{{ project.live_url }}">Live</a>{% endif %}
        <a class="btn" href="{% url 'projects' %}">Zur Liste</a>
      </div>

      <div class="meta-tags">
        {% if project.featured %}<span class="tag good">Featured</span>{% endif %}
        {% if project.tech_stack %}<span class="tag blue">{{ project.tech_stack }}</span>{% endif %}
      </div>

      {% with skill_list=project.skills.all %}
        {% if skill_list %}
          <h3 class="card-title card-space-top">Skills</h3>
          <div class="skill-list">
            {% for skill in skill_list %}
              <span class="tag">{{ skill }}</span>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
    </aside>
  </div>
</article>
{% endblock %}
